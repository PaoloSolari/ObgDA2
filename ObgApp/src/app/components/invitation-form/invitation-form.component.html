<app-back-button [url]="backUrl"></app-back-button>

<form [formGroup]="invitationForm">

    <!-- Farmacia -->
    <mat-form-field appearance="fill">
        <mat-label>Farmacia</mat-label>
        <!-- <mat-select [formControl]="presentationControl" formControlName="presentation" required> -->
            <mat-select formControlName="pharmacyControl"required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let pharmacy of pharmacies" [value]="pharmacy">
                {{pharmacy}}
            </mat-option>
        </mat-select>
            <!-- Errores de entrada -->
            <mat-error *ngIf="pharmacyControl.hasError('required')">Debe elegir una farmacia</mat-error>
    </mat-form-field>

    <!-- Nombre de usuario -->
    <mat-form-field appearance="outline">
        <mat-label>Nombre de usuario</mat-label>
        <input matInput formControlName="nameUser" #nameUser required> 
            <!-- Errores de entrada -->
            <mat-error *ngIf="nameUser.value.length==0">{{"Debe ingresar un nombre"}}</mat-error>
    </mat-form-field>
    
    <!-- Rol de usuario -->
    <mat-form-field appearance="fill">
        <mat-label>Rol de usuario</mat-label>
        <!-- <mat-select [formControl]="presentationControl" formControlName="presentation" required> -->
            <mat-select formControlName="roleControl"required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let role of roles" [value]="role">
                {{role}}
            </mat-option>
        </mat-select>
            <!-- Errores de entrada -->
            <mat-error *ngIf="roleControl.hasError('required')">Debe elegir un rol de usuario</mat-error>
    </mat-form-field>

    <!-- Código de usuario -->
    <div *ngIf="isEditing">
        <mat-form-field appearance="outline">
            <mat-label>Código de usuario</mat-label>
            <input matInput formControlName="codeUser" #codeUser required> 
            <!-- Errores de entrada -->
            <mat-error *ngIf="codeUser.value.length==0">{{"Debe ingresar un código"}}</mat-error>
        </mat-form-field>
    </div>

    <div class="buttonOk">
        <button mat-raised-button (click)="subitInvitation()">{{ !isEditing ? 'Crear' : 'Modificar' }}</button>
    </div>

</form>
